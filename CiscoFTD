configure terminal

! 1. USERS
username admin password <NEW_SECURE_PASSWORD> privilege 15
no username cisco
username blueadmin password <ANOTHER_SECURE_PASSWORD> privilege 15
username blueadmin roles admin
password-policy minimum-length 12
password-policy complexity enable
password-policy lifetime 90
password-policy history 5

! 2. SYSTEM
hostname FTD-BlueTeam
domain-name blue.local

! 3. MGMT
management-access inside
http server enable
http 172.20.242.0 255.255.255.0 inside
no http 0.0.0.0 0.0.0.0 outside
ssh 172.20.242.0 255.255.255.0 inside
no ssh 0.0.0.0 0.0.0.0 outside
no telnet 0.0.0.0 0.0.0.0
aaa authentication ssh console LOCAL

! 4. TIME
clock timezone CST -6
ntp server 172.20.242.1
no ntp authenticate

! 5. INTERFACES
interface GigabitEthernet0/0
 nameif outside
 security-level 0
 ip address 172.20.240.200 255.255.255.0
 no shutdown

interface GigabitEthernet0/1
 nameif inside
 security-level 100
 ip address 172.20.242.1 255.255.255.0
 no shutdown

interface GigabitEthernet0/2
 nameif dmz
 security-level 50
 ip address 172.31.26.2 255.255.255.248
 no shutdown

! 6. OUTSIDE ACL (tight)
access-list OUTSIDE-IN extended permit icmp any interface outside
! example web to DMZ
! access-list OUTSIDE-IN extended permit tcp any host 172.31.26.3 eq 80
! access-list OUTSIDE-IN extended permit tcp any host 172.31.26.3 eq 443
access-list OUTSIDE-IN extended deny ip any any log
access-group OUTSIDE-IN in interface outside

! 7. INSIDE ACL
access-list INSIDE-OUT extended permit ip 172.20.242.0 255.255.255.0 any
access-list INSIDE-OUT extended deny ip any any log
access-group INSIDE-OUT in interface inside

! 8. NAT
object network INSIDE-NET
 subnet 172.20.242.0 255.255.255.0
 nat (inside,outside) dynamic interface

! 9. LOGGING to syslog collector
logging enable
logging timestamp
logging buffered informational
logging trap informational
logging host inside 172.20.242.20
logging host inside 172.20.242.20 udp/514
logging source-interface inside
logging device-id hostname
logging permit-hostdown

! 10. INSPECTION
policy-map global_policy
 class inspection_default
  inspect dns maximum-length 512
  inspect ftp
  inspect icmp
  inspect http
  inspect smtp
  inspect pop3
  inspect ssl
service-policy global_policy global

end
write memory
